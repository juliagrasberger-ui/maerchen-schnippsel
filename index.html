<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>MÃ¤rchen-Generator â€“ 5. Klasse</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #fff8e1;
  padding: 20px;
}
h1 {
  text-align: center;
  color: #8b4513;
}
.container {
  max-width: 750px;
  margin: auto;
}
label {
  font-weight: bold;
  margin-top: 10px;
  display: block;
}
input, button {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 8px;
  border: 1px solid #8b4513;
  font-size: 16px;
}
button {
  background-color: #ffdd99;
  cursor: pointer;
}
button:hover {
  background-color: #ffd066;
}
.story {
  background-color: #fff3cd;
  padding: 20px;
  margin-top: 20px;
  border-radius: 12px;
  min-height: 120px;
}
#downloadBtn {
  display: none;
  margin-top: 10px;
}
</style>
</head>

<body>

<h1>MÃ¤rchen schreiben â€“ 5. Klasse</h1>

<div class="container">

<label>Ãœberschrift:</label>
<input id="title" placeholder="Titel deines MÃ¤rchens">

<label>Hauptfigur:</label>
<input id="person" placeholder="z. B. ein mutiger Junge, Lena, ein Ritter">

<label>Gegner (BÃ¶sewicht):</label>
<input id="villain" placeholder="z. B. ein Drache, eine Hexe">

<label>Helfer:</label>
<input id="helper" placeholder="z. B. eine Fee, ein Tier">

<label>Magischer Gegenstand:</label>
<input id="item" placeholder="z. B. Zauberstab, SchlÃ¼ssel">

<button onclick="generateStory()">MÃ¤rchen erzeugen</button>

<div class="story" id="story"></div>

<button id="downloadBtn" onclick="downloadStory()">ðŸ“¥ MÃ¤rchen speichern</button>

</div>

<script>
function generateStory() {
  const title = titleInput("title");
  const person = titleInput("person");
  const villain = titleInput("villain");
  const helper = titleInput("helper");
  const item = titleInput("item");

  if (!person || !villain || !helper || !item) {
    alert("Bitte fÃ¼lle alle Felder aus.");
    return;
  }

  const text = `
Es war einmal ${person}.
Eines Tages geriet ${person} in groÃŸe Gefahr, denn ${villain} bedrohte das Land.
${villain} stellte eine schwere Aufgabe, die gelÃ¶st werden musste.
Doch ${helper} kam zur Hilfe und gab ${person} ${item}.
Mit ${item} konnte ${person} alle Gefahren Ã¼berwinden.
Am Ende wurde ${person} als Held gefeiert und alle lebten glÃ¼cklich und zufrieden.
`;

  document.getElementById("story").innerHTML =
    (title ? `<h2>${title}</h2>` : "") +
    text.replace(/\n/g, "<br>");

  document.getElementById("downloadBtn").style.display = "block";
}

function titleInput(id) {
  return document.getElementById(id).value.trim();
}

function downloadStory() {
  const text = document.getElementById("story").innerText;
  const blob = new Blob([text], { type: "text/plain;charset=utf-8" });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "maerchen_5klasse.txt";
  link.click();
}
</script>

</body>
</html>
